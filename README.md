# ThesisApp

A tool that automates some of the first steps of a penetration test.

## Installation

Creata a user `localhost` where the program and the tools will be installed.

In `~/Documents` create a folder `tools/`. This is where the tools the program needs will be installed.

Clone this project to `~/Documents` folder. (`/home/localhost/Documents/pentest-app`)

#### Install Node

```sh
$ sudo apt update
$ sudo apt install curl
$ cd ~
$ curl -sL https://deb.nodesource.com/setup_10.x -o nodesource_setup.sh
$ sudo bash nodesource_setup.sh
$ sudo apt install nodejs
```

#### Install angular cli

```sh
$ sudo apt install -y build-essential
$ npm install -g @angular/cli
```

#### Install npm packages

In the project folder

```sh
$ npm install
```

## Tools Installation

Navigate to the folder `/home/localhost/Documents/tools` created previously.

#### Install Nmap

```sh
$ sudo apt-get install nmap
```

#### Install TheHarvester

```sh
$ sudo apt-get install -y python3-pip
$ git clone https://github.com/laramies/theHarvester.git
$ cd theHarvester
$ python3 -m pip install -r requirements.txt
$ sudo python ./theHarvester.py
```

#### Install WhatWeb

```sh
$ git clone https://github.com/urbanadventurer/WhatWeb.git
$ sudo apt-get install ruby ruby-dev
$ gem install bundler
$ cd WhatWeb
$ bundle install
$ bundle update
```

#### Install Wapiti

Download from https://sourceforge.net/projects/wapiti/files/

```sh
$ sudo apt-get install python3-venv libxml2 libxml2-dev libz-dev libxslt1-dev python3-dev
$ python3 setup.py install
```

#### Install WPScan

```sh
$ gem install wpscan
```

To fix WPScan autorun

```sh
$ sudo chmod -R 777 /tmp/wpscan/
```

#### Install Joomscan

```sh
$ git clone https://github.com/DavidAngelos/joomscan
```

In order to parse output correctly, it should not have colors:

* Edit `/joomscan/core/header.pl` and remove every line that colors the output
* Edit `/joomscan/core/main.pl` and remove every line that colors the output

In order to have consistent output open `/joomscan/modules/dirlisting.pl` and change if condition to:

```
if($ctf==1){
	dprint("Checking Directory Listing");
	tprint("directory has directory listing : \n$cnftmp");
} else{
 	dprint("Checking Directory Listing");
 	tprint("None");
}
```

#### Install Sublist3r

```sh
$ git clone https://github.com/aboul3la/Sublist3r.git
$ sudo apt-get install python-pip
$ cd Sublist3r
$ sudo pip install -r requirements.txt
```

#### Install Gobuster

```sh
$ apt-get install gobuster
```

#### Install nmap-vulners

Follow instructions from https://github.com/vulnersCom/nmap-vulners

#### Fix nmap2json

Download https://github.com/DavidAngelos/nmap2json and replace the folder `pentest-app/node_modules/nmap2json` with the one downloaded.


## Development server

In the project folder `~/Documents/pentest-app` run `npm install --save-dev @angular-devkit/build-angular`

Run `npm run start:server` and in another terminal tab `ng serve` for a dev server. Navigate to `http://localhost:4200/scan/auto`. The app will automatically reload if you change any of the source files.
