const removeNonAsciiChars = url => url.replace(/[^\x20-\x7E]/g, '');

const removeProtocol = url => url.replace(/(^\w+:|^)\/\//, '');

const removeLastSlash = url => url.endsWith('/') ? url.slice(0, -1) : url;

const cleanUrl = (url) => {
    let cleanUrl = url;
    cleanUrl = cleanUrl.replace(/[^\x20-\x7E]/g, ''); // remove non ASCII chars
    cleanUrl = cleanUrl.replace(/(^\w+:|^)\/\//, ''); // remove protocol in front of the url
    cleanUrl = cleanUrl.endsWith('/') ? cleanUrl.slice(0, -1) : cleanUrl // remove the slash at the end of the url
    return cleanUrl
}

module.exports = {
    removeNonAsciiChars,
    removeProtocol,
    removeLastSlash,
    cleanUrl
}